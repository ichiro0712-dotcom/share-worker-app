# 労働条件通知書機能 テストチェックリスト

## テスト環境準備

- [ ] 開発サーバーが起動している (`npm run dev`)
- [ ] データベースにテストデータがある (`npx prisma db seed`)
- [ ] テスト用ワーカーアカウントでログインできる

### テスト用アカウント
- **ワーカー**: tanaka@example.com / password123
- **管理者**: admin@tastas.jp / admin123

---

## ワーカー側テスト

### 1. マイページ → 仕事管理への遷移

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 1-1 | マイページを開く | メニューに「仕事管理」が表示される | |
| 1-2 | 「仕事管理」をタップ | /my-jobs に遷移する | |
| 1-3 | ヘッダーのタイトル確認 | 「仕事管理」と表示される | |
| 1-4 | 戻るボタン | マイページに戻る | |

### 2. 仕事一覧ページ

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 2-1 | 応募済みの仕事が一覧表示される | 各仕事カードに求人名、施設名、日時、報酬が表示される | |
| 2-2 | ステータスバッジの表示 | 応募中/勤務予定/完了 等が正しく表示される | |
| 2-3 | 審査ありで不採用の場合 | 「不採用」と表示される（キャンセルではなく） | |
| 2-4 | 仕事がない場合 | 「まだ仕事がありません」と表示される | |
| 2-5 | 仕事カードをタップ | 詳細ページに遷移する | |

### 3. 仕事詳細ページ

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 3-1 | ページ表示 | 「仕事詳細」がタイトルに表示される | |
| 3-2 | 勤務情報セクション | 勤務日、勤務時間、休憩時間、場所が表示される | |
| 3-3 | 施設情報セクション | 法人名、施設住所が表示される | |
| 3-4 | 報酬情報 | 日給、時給、交通費が表示される | |
| 3-5 | 業務内容 | 業務内容リストが表示される | |
| 3-6 | 持ち物 | 持ち物リストが表示される | |

### 4. 労働条件通知書リンク（マッチング済みのみ）

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 4-1 | 応募中の仕事 | 労働条件通知書リンクが**表示されない** | |
| 4-2 | 勤務予定の仕事 | 労働条件通知書リンクが表示される | |
| 4-3 | 完了済みの仕事 | 労働条件通知書リンクが表示される | |
| 4-4 | リンクをタップ | 労働条件通知書ページに遷移する | |

### 5. 労働条件通知書ページ

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 5-1 | タイトル | 「労働条件通知書」が表示される | |
| 5-2 | 発行日 | 本日の日付が表示される | |
| 5-3 | **使用者情報** | 法人名、所在地、事業所名、就業場所が表示される | |
| 5-4 | **労働者情報** | ワーカー氏名が「〇〇 殿」形式で表示される | |
| 5-5 | **契約情報** | 就労日、契約期間（1日）、更新有無が表示される | |
| 5-6 | **業務内容** | 業務内容リストが表示される | |
| 5-7 | **勤務時間** | 始業/終業時刻、休憩時間、所定外労働が表示される | |
| 5-8 | **賃金** | 時給、日給、交通費、割増率、支払日、支払方法が表示される | |
| 5-9 | **社会保険等** | 社会保険に関する説明が表示される | |
| 5-10 | **持ち物** | 持ち物リストが表示される（ある場合） | |
| 5-11 | **受動喫煙防止措置** | 喫煙対策情報が表示される | |
| 5-12 | **解雇の事由** | 解雇理由が表示される | |
| 5-13 | **誓約事項** | 4項目の誓約事項が表示される | |
| 5-14 | フッター | 労働基準法15条の記載と+タスタス発行が表示される | |

---

## 管理者側テスト

### 6. ワーカー詳細ページ

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 6-1 | ワーカー一覧からワーカーを選択 | ワーカー詳細ページが表示される | |
| 6-2 | 労働条件通知書リンク | 「労働条件通知書」リンクが表示される | |
| 6-3 | リンクをクリック | 労働条件通知書一覧ページに遷移する | |

### 7. 労働条件通知書一覧（管理者）

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 7-1 | ページタイトル | 「〇〇さんの労働条件通知書」と表示される | |
| 7-2 | 一覧表示 | マッチング済みの勤務が一覧表示される | |
| 7-3 | 各カードの情報 | 求人名、勤務日、ステータスが表示される | |
| 7-4 | 「表示」ボタン | 労働条件通知書詳細に遷移する | |
| 7-5 | 対象がない場合 | 「マッチング済みの勤務がありません」と表示される | |

### 8. 労働条件通知書詳細（管理者）

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 8-1 | ページ表示 | 労働条件通知書の全内容が表示される | |
| 8-2 | 印刷ボタン | 「印刷 / PDF保存」ボタンが表示される | |
| 8-3 | 印刷ボタン押下 | ブラウザの印刷ダイアログが開く | |
| 8-4 | 印刷プレビュー | ヘッダー/ボタンが非表示になり、本文のみ表示される | |

---

## マッチング時の自動通知テスト

### 9. チャット自動送信

| # | テスト項目 | 期待結果 | OK/NG |
|---|-----------|---------|-------|
| 9-1 | 審査なし求人に応募 | 応募と同時にマッチング、チャットに通知が届く | |
| 9-2 | 審査あり求人で採用 | 管理者が「採用」に変更後、チャットに通知が届く | |
| 9-3 | 通知内容 | 「労働条件通知書のお知らせ」メッセージが表示される | |
| 9-4 | メッセージ内容 | マイページ→仕事管理→該当の仕事への案内が含まれる | |

---

## 自動テスト実行

自動テストを実行する場合：

```bash
# 全テスト実行
npm run test

# ブラウザを表示しながらテスト
npm run test:headed

# UI付きでテスト（デバッグ用）
npm run test:ui
```

---

## 不具合発見時の記録

| 発見日 | テスト# | 現象 | 対応状況 |
|-------|--------|------|---------|
| | | | |
| | | | |
| | | | |

---

## テスト完了サイン

- テスト実施者: _______________
- テスト実施日: _______________
- 結果: ☐ 全項目OK / ☐ 要修正あり
